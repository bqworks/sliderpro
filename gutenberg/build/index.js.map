{"version":3,"file":"index.js","mappings":"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","sources":["webpack://sliderpro/./src/edit.js","webpack://sliderpro/./src/icons.js","webpack://sliderpro/./src/save.js","webpack://sliderpro/./src/editor.scss","webpack://sliderpro/external window [\"wp\",\"blockEditor\"]","webpack://sliderpro/external window [\"wp\",\"blocks\"]","webpack://sliderpro/external window [\"wp\",\"components\"]","webpack://sliderpro/external window [\"wp\",\"element\"]","webpack://sliderpro/external window [\"wp\",\"i18n\"]","webpack://sliderpro/webpack/bootstrap","webpack://sliderpro/webpack/runtime/compat get default export","webpack://sliderpro/webpack/runtime/define property getters","webpack://sliderpro/webpack/runtime/hasOwnProperty shorthand","webpack://sliderpro/webpack/runtime/make namespace object","webpack://sliderpro/./src/index.js"],"sourcesContent":["import { __ } from '@wordpress/i18n';\nimport { useBlockProps } from '@wordpress/block-editor';\nimport { InspectorControls } from '@wordpress/blockEditor';\nimport { SelectControl, Placeholder } from '@wordpress/components';\nimport { useEffect, useState } from '@wordpress/element';\nimport { sliderProIcon } from './icons';\n\nimport './editor.scss';\n\nexport default function edit( props ) {\n\tconst { attributes, setAttributes } = props;\n\tconst [ sliders, setSliders ] = useState([]);\n\n\t// Create a global object to store the slider data, so\n\t// that it needs to be fetched only once, when the first\n\t// block is added. Additional blocks will use the slider\n\t// data stored in the global object.\n\tif ( typeof window.sliderpro === 'undefined' ) {\n\t\twindow.sliderpro = {\n\t\t\tsliders: [],\n\t\t\tslidersDataStatus: '' // can be '', 'loading' or 'loaded'\n\t\t};\n\t}\n\n\t// Load the slider data and store the slider name and id,\n\t// as 'label' and 'value' to be used in the SelectControl.\n\tconst getSlidersData = () => new Promise( ( resolve ) => {\n\t\twp.apiFetch({\n\t\t\tpath: 'sliderpro/v1/get_sliders'\n\t\t}).then( function( responseData ) {\n\t\t\tlet slidersData = [];\n\t\t\t\n\t\t\tfor ( const key in responseData ) {\n\t\t\t\tslidersData.push({\n\t\t\t\t\tlabel: `${ responseData[ key ] } (${ key })`,\n\t\t\t\t\tvalue: parseInt( key )\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tresolve( slidersData );\n\t\t});\n\t});\n\n\t// Get a slider by its id.\n\tconst getSlider = ( sliderId ) => {\n\t\tconst slider = sliders.find( ( slider ) => {\n\t\t\treturn slider.value === sliderId;\n\t\t});\n\n\t\treturn typeof slider !== 'undefined' ? slider : false;\n\t};\n\n\t// Get the slider's label by its id.\n\tconst getSliderLabel = ( sliderId ) => {\n\t\tconst slider = getSlider( sliderId );\n\n\t\treturn slider !== false ? slider.label: '';\n\t};\n\n\t// Initialize the component by setting the 'sliders' property\n\t// which will trigger the rendering of the component.\n\t//\n\t// If the sliders data is already globally available, set the 'sliders'\n\t// immediately. If the sliders data is currently loading, wait for it\n\t// to load and then set the 'sliders'. If it's not currently loading,\n\t// start the loading process.\n\tconst init = () => {\n\t\tif ( window.sliderpro.slidersDataStatus === 'loaded' ) {\n\t\t\tsetSliders( window.sliderpro.sliders );\n\t\t} else if ( window.sliderpro.slidersDataStatus === 'loading' ) {\n\t\t\tconst checkApiFetchInterval = setInterval( function() {\n\t\t\t\tif ( window.sliderpro.slidersDataStatus === 'loaded' ) {\n\t\t\t\t\tclearInterval( checkApiFetchInterval );\n\t\t\t\t\tsetSliders( window.sliderpro.sliders );\n\t\t\t\t}\n\t\t\t}, 100 );\n\t\t} else {\n\t\t\twindow.sliderpro.slidersDataStatus = 'loading';\n\n\t\t\tgetSlidersData().then( ( slidersData ) => {\n\t\t\t\twindow.sliderpro.slidersDataStatus = 'loaded';\n\t\t\t\twindow.sliderpro.sliders = slidersData;\n\n\t\t\t\tsetSliders( slidersData );\n\t\t\t});\n\t\t}\n\t}\n\n\tuseEffect( () => {\n\t\tinit();\n\t}, [] );\n\n\treturn (\n\t\t<div { ...useBlockProps() }>\n\t\t\t<Placeholder label='Slider Pro' icon={ sliderProIcon }>\n\t\t\t\t{\n\t\t\t\t\twindow.sliderpro.slidersDataStatus !== 'loaded' ?\n\t\t\t\t\t\t<div className='sp-gutenberg-slider-placeholder-content'> { __( 'Loading Slider Pro data...', 'sliderpro' ) } </div>\n\t\t\t\t\t: (\n\t\t\t\t\t\twindow.sliderpro.sliders.length === 0 ?\n\t\t\t\t\t\t\t<div className='sp-gutenberg-slider-placeholder-content'> { __( 'You don\\'t have any created sliders yet.', 'sliderpro' ) } </div>\n\t\t\t\t\t\t: (\n\t\t\t\t\t\t\tgetSlider( attributes.sliderId ) === false ?\n\t\t\t\t\t\t\t\t<div className='sp-gutenberg-slider-placeholder-content'> { __( 'Select a slider from the Block settings.', 'sliderpro' ) } </div>\n\t\t\t\t\t\t\t: (\n\t\t\t\t\t\t\t\t<div className='sp-gutenberg-slider-placeholder-content'>\n\t\t\t\t\t\t\t\t\t<p className='sp-gutenberg-slider-identifier'> { getSliderLabel( attributes.sliderId ) } </p>\n\t\t\t\t\t\t\t\t\t<a className='sp-gutenberg-edit-slider' href={`${ sp_gutenberg_js_vars.admin_url }?page=sliderpro&id=${ attributes.sliderId }&action=edit`} target='_blank'> { __( 'Edit Slider', 'sliderpro' ) } </a>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t</Placeholder>\n\n\t\t\t<InspectorControls>\n\t\t\t\t<SelectControl\n\t\t\t\t\tclassName='sp-gutenberg-select-slider'\n\t\t\t\t\tlabel={ __( 'Select a slider from the list:', 'sliderpro' ) }\n\t\t\t\t\toptions={ [ { label: __( 'None', 'sliderpro'), value: -1 }, ...sliders ] }\n\t\t\t\t\tvalue={ attributes.sliderId }\n\t\t\t\t\tonChange={ ( newSliderId ) => setAttributes( { sliderId: parseInt( newSliderId ) } ) }\n\t\t\t\t/>\n\t\t\t\t{\n\t\t\t\t\twindow.sliderpro.sliders.length === 0 &&\n\t\t\t\t\t<p \n\t\t\t\t\t\tclassName='sp-gutenberg-no-sliders-text'\n\t\t\t\t\t\tdangerouslySetInnerHTML={{\n\t\t\t\t\t\t\t__html: sprintf( __( 'You don\\'t have any created sliders yet. You can create and manage sliders in the <a href=\"%s\" target=\"_blank\">dedicated area</a>, and then use the block to load the sliders.', 'sliderpro' ), `${ sp_gutenberg_js_vars.admin_url }?page=sliderpro` )\n\t\t\t\t\t\t}}>\n\t\t\t\t\t</p>\n\t\t\t\t}\n\t\t\t</InspectorControls>\n\t\t</div>\n\t);\n}\n","export const sliderProIcon = <svg viewBox=\"0 0 24 24\" height=\"24\" width=\"24\"><path stroke=\"#000\" stroke-width=\"1\" fill=\"none\" d=\"M1 20 L1 9 L16 9 L16 20 L1 20 Z M4 9 L4 6 L19 6 L19 17 L16 17 M7 6 L7 3 L22 3 L22 14 L19 14\"/></svg>","import { useBlockProps } from '@wordpress/block-editor';\n\nexport default function save( props ) {\n\tconst { attributes } = props;\n\n\treturn (\n\t\t<div { ...useBlockProps.save() }>\n\t\t\t{ attributes.sliderId !== -1 && `[sliderpro id=\"${ attributes.sliderId }\"]` }\n\t\t</div>\n\t);\n}\n","// extracted by mini-css-extract-plugin\nexport {};","module.exports = window[\"wp\"][\"blockEditor\"];","module.exports = window[\"wp\"][\"blocks\"];","module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"wp\"][\"element\"];","module.exports = window[\"wp\"][\"i18n\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import { registerBlockType } from '@wordpress/blocks';\nimport { sliderProIcon } from './icons';\nimport edit from './edit';\nimport save from './save';\nimport metadata from './block.json';\n\nregisterBlockType( metadata, {\n\ticon: sliderProIcon,\n\tedit,\n\tsave,\n});\n"],"names":["__","useBlockProps","InspectorControls","SelectControl","Placeholder","useEffect","useState","sliderProIcon","edit","props","attributes","setAttributes","sliders","setSliders","window","sliderpro","slidersDataStatus","getSlidersData","Promise","resolve","wp","apiFetch","path","then","responseData","slidersData","key","push","label","value","parseInt","getSlider","sliderId","slider","find","getSliderLabel","init","checkApiFetchInterval","setInterval","clearInterval","length","sp_gutenberg_js_vars","admin_url","newSliderId","__html","sprintf","save","registerBlockType","metadata","icon"],"sourceRoot":""}